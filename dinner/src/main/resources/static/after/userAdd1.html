<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>雇员添加</title>
    <link rel="stylesheet" href="../lib/layui/css/layui.css">
    <script src="../lib/layui/layui.js" charset="utf-8"></script>
    <script src="../js/jquery.min.js"></script>
</head>
<body>
<span id="userInfo" style="color: red;"></span>
<form class="layui-form" lay-filter="demo" action="../emp/add">
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block">
            <input type="text" id="EmpName" name="EmpName" required  lay-verify="required" placeholder="请输入真实姓名" autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">单选框</label>
        <div class="layui-input-block" id="sex">
            <input type="radio" name="sex" value="0" title="男">
            <input type="radio" name="sex" value="1" title="女" checked>
        </div>
    </div>
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">用户名</label>
        <div class="layui-input-block">
            <input type="text" id="userName" name="userName"  lay-verify="required|username" placeholder="请输入登录名" autocomplete="off" class="layui-input">
        </div>

    </div>
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">密码</label>
        <div class="layui-input-block">
            <input type="password" id="password" name="password"  lay-verify="required|pass" placeholder="请输入密码" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">出生年月</label>
        <div class="layui-input-block">
            <input type="text" name="birth" id="date" lay-verify="date" placeholder="年-月-日" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-block">
            <input type="text" id="phone" name="phone"  lay-verify="phone" placeholder="请输入手机号" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item" style="width: 500px">
        <label class="layui-form-label">职位</label>
        <div class="layui-input-block">
            <select id="role" name="role">
                <option value="">请选择</option>
                <option value="0">服务员</option>
                <option value="1">收银</option>
                <option value="2">仓库</option>
                <option value="3">老板</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item" style="width: 700px">
        <label class="layui-form-label">地址</label>
        <div class="layui-input-block">
            <input type="text" id="addr" name="addr"  lay-verify="required" placeholder="请输入地址" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit  onclick="add()">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>

<script>
    layui.use(['form', 'laydate',"upload","jquery"], function(){
        laydate = layui.laydate;
        var form = layui.form;
        laydate.render({ //发布时间
            elem: '#date'
            ,max:0
        });
        form.verify({
            username: function(value, item){ //value：表单的值、item：表单的DOM对象
                if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
                    return '用户名不能有特殊字符';
                }
                if(/(^\_)|(\__)|(\_+$)/.test(value)){
                    return '用户名首尾不能出现下划线\'_\'';
                }
                if(/^\d+\d+\d$/.test(value)){
                    return '用户名不能全为数字';
                }
            }

            //我们既支持上述函数式的方式，也支持下述数组的形式
            //数组的两个值分别代表：[正则匹配、匹配不符时的提示文字]
            ,pass: [
                /^[\S]{5,12}$/
                ,'密码必须6到12位，且不能出现空格'
            ]
        });
        form.on('submit(demo)', function(data){


        });
    });

</script>
<script>
//    function add() {
//        var empName = $("#EmpName").val();
//        var userName = $("#userName").val();
//        var password = $("#password").val();
//        var phone = $("#phone").val();
//        if (userName.length>4&&userName.length<15){
//            console.log("----------------")
//       }else {
//           $("#userInfo").html("用户名不足5位或多于15位")
//       }
//        form.verify({
//            username: function(value, item){ //value：表单的值、item：表单的DOM对象
//                if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
//                    return '用户名不能有特殊字符';
//                }
//                if(/(^\_)|(\__)|(\_+$)/.test(value)){
//                    return '用户名首尾不能出现下划线\'_\'';
//                }
//                if(/^\d+\d+\d$/.test(value)){
//                    return '用户名不能全为数字';
//                }
//            }
//
//            我们既支持上述函数式的方式，也支持下述数组的形式
//            数组的两个值分别代表：[正则匹配、匹配不符时的提示文字]
//            ,pass: [
//                /^[\S]{6,12}$/
//                ,'密码必须6到12位，且不能出现空格'
//            ]
//        });
//
//        $.ajax({
//            url: "../emp/add",
//            type: "post",
//            data:{"EmpName":$("#EmpName").val(),"sex":$("#sex input[name='sex']:checked ").val(),
//                "userName":$("#userName").val(),"password":$("#password").val(),"birth":$("#date").val(),
//                "phone":$("#phone").val(),"role":$("#role").val(),"addr":$("#addr").val()},
//            dataType: "json",
//            success: function(data){
//                if (data>0){
//                    location.href="../emp/toList"
//                }else {
//                    $("#info").html("添加失败!!")
//                }
//            }
//        })
//    }

</script>
</body>
</html>